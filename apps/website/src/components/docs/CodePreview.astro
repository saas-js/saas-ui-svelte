---
import { codeToHtml } from "shiki";
import CodePreviewInner from "./CodePreview.svelte";

interface Props {
	code: string;
	lang?: string;
	class?: string;
}

const { code, lang = "svelte", class: className = "" } = Astro.props;

const html = await codeToHtml(code, {
	lang,
	themes: {
		light: "github-light-high-contrast",
		dark: "github-dark-high-contrast",
	},
});
---

<CodePreviewInner {code} {html} class={className} client:load>
	<slot />
</CodePreviewInner>
