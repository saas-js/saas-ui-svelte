import { Meta, Story, Canvas, ArgTypes } from "@storybook/addon-docs/blocks";
import * as LocaleProviderStories from "./LocaleProvider.stories.svelte";
import { getControls } from "../utils";

<Meta of={LocaleProviderStories} />

# Locale Provider

## Used for globally setting the locale for your application.

<Canvas of={LocaleProviderStories.Basic} />

## Usage

The `LocaleProvider` component sets the locale for your app, formatting dates, numbers, and other locale-specific data.

Most components that read the locale will automatically use the locale set by the `LocaleProvider`.

```tsx
<script>
	import { LocaleProvider } from "$saas/utilities/locale-provider";
</script>

<LocaleProvider locale="de-DE">
	<!-- Your App -->
</LocaleProvider>
```

## Examples

### Setting Locale

Set the `locale` prop to the locale you want to use. The provider will automatically determine the text direction (LTR or RTL) based on the locale.

<Canvas of={LocaleProviderStories.SettingLocale} />

### Reading Locale

Use the `getLocaleContext` function to access the current locale and text direction in your components.

```tsx
<script>
	import { getLocaleContext } from "$saas/utilities/locale-provider";

	const { locale, dir } = getLocaleContext();
</script>

<pre>{JSON.stringify({ locale, dir }, null, 2)}</pre>
```

## Props

<ArgTypes {...getControls(["locale", "children"])} />
