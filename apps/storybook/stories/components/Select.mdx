import { Meta, Story, Canvas, ArgTypes } from "@storybook/addon-docs/blocks";
import * as SelectStories from "./Select.stories.svelte";
import { Select } from "$saas/components/select";
import {
	selectRootPattern,
	selectTriggerPattern,
	selectValuePattern,
	selectContentPattern,
	selectItemPattern,
	selectItemGroupPattern,
	selectLabelPattern,
} from "../utils";

<Meta of={SelectStories} />

# Select

## Used to pick a value from predefined options.

[Ark UI](https://ark-ui.com/docs/components/select)

<Canvas of={SelectStories.Basic} />

## Anatomy

```tsx
<script>
	import { Select } from "$saas/components/select";
	import { createListCollection } from "@ark-ui/svelte/select";

	const items = createListCollection({
		items: [
			{ label: "Option 1", value: "option1" },
			{ label: "Option 2", value: "option2" },
		],
	});
</script>

<Select.Root collection={items}>
	<Select.Label>Label</Select.Label>
	<Select.Trigger>
		<Select.Value placeholder="Select an option" />
	</Select.Trigger>
	<Select.Content>
		{#each items.items as item}
			<Select.Item {item}>{item.label}</Select.Item>
		{/each}
	</Select.Content>
</Select.Root>
```

## Examples

### Sizes

Use the `size` prop to control the size of the select. Available sizes are `xs`, `sm`, `md`, and `lg`. The default size is `md`.

<Canvas of={SelectStories.Sizes} />

### Variants

Use the `variant` prop to change the appearance of the select trigger. Available variants are `outline` and `subtle`.

<Canvas of={SelectStories.Variants} />

### Option Group

Use the `SelectItemGroup` component with a `label` prop to group select options.

<Canvas of={SelectStories.OptionGroup} />

### Disabled

Use the `disabled` prop to disable the select component.

<Canvas of={SelectStories.Disabled} />

### Invalid

Wrap the select in a `FieldRoot` with the `invalid` prop to indicate an error state.

<Canvas of={SelectStories.Invalid} />

### Avatar Select

Compose the Select with Avatar for rich item displays. Use the `SelectValue` children snippet to customize the selected value display.

<Canvas of={SelectStories.AvatarSelect} />

### Clear Trigger

Pass the `clearable` prop to the `SelectTrigger` to show a clear button when a value is selected.

<Canvas of={SelectStories.ClearTrigger} />

### Overflow

The select content automatically handles overflow with scrolling when there are many items.

<Canvas of={SelectStories.Overflow} />

### Positioning

Use the `positioning` prop to control the dropdown placement using floating-ui options.

<Canvas of={SelectStories.Positioning} />

### Within Popover

Use the Select within a Popover component. Set `portal={false}` on the content to keep it within the popover's stacking context.

<Canvas of={SelectStories.InPopover} />

### Colours

Use the `colour` prop to change the highlight colour of the selected/hovered items.

<Canvas of={SelectStories.Colours} />

## Props

### Select.Root

<ArgTypes of={Select.Root} exclude={selectRootPattern} />

### Select.Trigger

<ArgTypes of={Select.Trigger} exclude={selectTriggerPattern} />

### Select.Value

<ArgTypes of={Select.Value} exclude={selectValuePattern} />

### Select.Content

<ArgTypes of={Select.Content} exclude={selectContentPattern} />

### Select.Item

<ArgTypes of={Select.Item} exclude={selectItemPattern} />

### Select.ItemGroup

<ArgTypes of={Select.ItemGroup} exclude={selectItemGroupPattern} />

### Select.Label

<ArgTypes of={Select.Label} exclude={selectLabelPattern} />
